import{s as g,u as $,n as x}from"./poke-D2vY46iT.js";import{s as B,a as H}from"./index-BpHkFmXZ.js";import{d as _,f as V,h as k,o as c,w as l,a as w,b as o,U as y,u as t,e as p,t as i,i as N,r as n,c as C,D as M}from"./index-RfvxWBIL.js";import{s as b}from"./index-1m0qzSYM.js";import{s as D}from"./index-NwQVfefp.js";const E=["src","alt"],L={name:"SplitterPanel"},d=_({...L,props:{sprite:{},name:{},hp:{},maxHp:{},enemy:{type:Boolean}},setup(f){const e=f,r=V(()=>e.hp/e.maxHp*100);return(a,s)=>(c(),k(t(B),{style:y(a.enemy?"text-align: right":"")},{default:l(()=>[w("img",{src:a.sprite,alt:a.name,style:y(a.enemy?"":"transform: scaleX(-1)"),onLoad:s[0]||(s[0]=m=>a.$emit("sprite"))},null,44,E),o(t(g),{value:r.value},{default:l(()=>[p("HP: "+i(a.hp)+" ("+i(r.value)+"%)",1)]),_:1},8,["value"])]),_:1},8,["style"]))}}),U=_({__name:"PokeBattle",setup(f){const e=$(),r=N(),a=n(0),s=n({}),m=n(0),h=n(!1);function S(){a.value=e.hp}function P(){m.value=s.value.stats.hp}return r.load("getPokelist").setWhenSuccess(async u=>{await x(u.results[Math.floor(Math.random()*u.results.length)].url,s.value,n(e.level),n(0)),h.value=!0}).fire(),(u,v)=>(c(),C("main",null,[o(t(D),null,{title:l(()=>[p(i(t(e).name)+" ",1),o(t(b),{style:{display:"inline-block"}},{default:l(()=>v[0]||(v[0]=[p("VS")])),_:1,__:[0]}),p(" "+i(s.value.ko+" Lv "+t(e).level),1)]),content:l(()=>[h.value?(c(),k(t(H),{key:0},{default:l(()=>[o(d,{sprite:t(e).sprite,name:t(e).name,hp:a.value,"max-hp":t(e).hp,onSprite:S},null,8,["sprite","name","hp","max-hp"]),o(d,{sprite:s.value.sprites,name:s.value.ko,hp:m.value,"max-hp":s.value.stats.hp,enemy:"",onSprite:P},null,8,["sprite","name","hp","max-hp"])]),_:1})):M("",!0)]),_:1})]))}});export{U as default};
